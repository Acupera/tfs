#!/usr/bin/env node

var hasError = false,
    program  = require('commander'),
    tfsUndo = require('../lib/tfs/undo');

program
  .description('Removes pending changes from a workspace.Required PermissionsTo use the undo command, you must be the owner of the specified workspace or have the global Administer workspaces permission set to Allow. For more information, see Team Foundation Server Permissions.')
  .usage('[itemspec] [options]')
  .option('-w, --workspace', 'The user-provided value for the /workspace option.')
  .option('-r, --recursive', 'Specifies the name of the user who created the workspace.')
  .option('-n, --noprompt', 'The URL of the team project collection that contains files from which you want to remove pending changes (for example, http://myserver:8080/tfs/DefaultCollection).')
  .option('-c, --collection ', 'Identifies the file or folder from which to remove pending changes. For more information about how Team Foundation parses itemspecs to determine which items are within scope, see Command-Line Options. ')
  .option('-l, --login', 'Provides a value to the /login option. You can specify a username value as either DOMAIN\\UserName or UserName.')
  .option('-V, --verbose', 'Verbose mode.')
  .parse(process.argv);

var options = {
  workspace: program.workspace,
  recursive: program.recursive,
  noprompt: program.noprompt,
  collection : program.collection ,
  login: program.login
};

tfsUndo(program.args, options);
